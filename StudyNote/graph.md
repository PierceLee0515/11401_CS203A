# Graph (圖形)

---

## 1. 關於圖形 (About Graph)

### 什麼是圖形 (What's Graph)?
- 一組 **頂點 (Vertices/Nodes)** 以及連接這些頂點的 **邊 (Edges)** 所組成的集合，用來表示物件之間的 **關係**。


### 圖形的組成元件 (Component of Graph)
- **Vertex (頂點)**: 圖形中的節點。
- **Edge (邊)**: 頂點之間的關聯。
  - **無向邊 (Undirected edge)**: 邊沒有方向性。
  - **有向邊 (Directed edge)**: 邊具有方向性（從 A 指向 B）。
  - **加權邊 (Weighted edge)**: 邊帶有權重值（如距離、成本）。
  - **有向加權邊**: 同時具備方向與權重。
  - **標籤邊 (Label edge)**: 邊帶有特定標籤名稱。

### 頂點的分枝度 (Degree of Vertex)
- **定義**: 與該頂點相關聯的邊的數量。
- **入度 (In-degree)**: 指向該頂點的邊的數量。
- **出度 (Out-degree)**: 從該頂點指出去的邊的數量。

---

## 2. 圖形的表示方式 (Graph Representation)

### 相鄰矩陣 (Adjacency Matrix)
- **定義**: 使用二維陣列（矩陣）來記錄頂點間是否存在邊。

- **優點**:
  - 易於檢查任意兩點是否相連（Lookup）。
  - 實作簡單。
  - 適合 **稠密圖 (Dense graph)**：頂點間邊數很多的狀況。
  - 查詢時間複雜度為 $O(1)$。
- **缺點**:
  - 空間浪費：無論邊數多寡，皆需 $O(V^2)$ 的空間。
  - 不適合 **稀疏圖 (Sparse graph)**。
  - 找尋某頂點的所有鄰居需遍歷整列：$O(V)$。
  - 動態增刪頂點較困難（需重建矩陣）。
- **最適用於**:
  - 稠密圖、需要快速查詢連通性的場景。

### 相鄰串列 (Adjacency List)
- **定義**: 為每個頂點建立一個串列，記錄所有與其相連的頂點。

- **優點**:
  - 節省空間：僅儲存實際存在的邊 $\rightarrow$ $O(V + E)$。
  - 適合 **稀疏圖 (Sparse graph)**。
  - 增刪邊的操作效率高。
  - 適合執行 `BFS` 或 `DFS` 走訪 $\rightarrow$ $O(V + E)$。
- **缺點**:
  - 實作較複雜（需處理指標與鏈結串列）。
  - 檢查兩點是否相連需遍歷串列：$O(deg(V))$。
  - 每個節點需額外存指標空間。
- **最適用於**:
  - 稀疏圖、動態圖、大規模圖形走訪。

---

## 3. 相鄰矩陣 vs 相鄰串列 比較表

| 比較面向 (Aspect) | 相鄰矩陣 (Adjacency Matrix) | 相鄰串列 (Adjacency List) |
| :--- | :--- | :--- |
| **空間複雜度** | $O(V^2)$ | $O(V + E)$ |
| **查詢連通性 (Lookup)** | $O(1)$ | $O(deg(V))$ |
| **增刪邊的操作** | 不易動態操作 (需重建) | $O(1)$ |
| **走訪效率 (DFS/BFS)** | $O(V^2)$ | $O(V + E)$ |
| **實作難度** | 簡單 | 較難 (需操作指標) |
| **最佳應用** | 稠密圖、快速查詢 | 稀疏圖、動態圖 |

---

## 4. 圖形的抽象資料型態 (ADT)

- `Graph create()`: 建立一個新圖形。
- `Graph insert_vertex(Graph, v1)`: 插入一個頂點。
- `Graph insert_edge(Graph, v1, v2)`: 插入一條連接 v1 與 v2 的邊。
- `Graph remove_vertex(Graph, v1)`: 移除一個頂點及其相關邊。
- `Graph remove_edge(Graph, v1, v2)`: 移除連接 v1 與 v2 的邊。
- `Bool Isempty(Graph)`: 檢查圖形是否為空。

---

## 5. 註記 (Notes)
在選擇表示方式時，**邊的密度**是關鍵因素：
- 如果 $E$ 接近 $V^2$，選矩陣。
- 如果 $E$ 遠小於 $V^2$，選串列。
